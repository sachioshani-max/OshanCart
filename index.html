<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Oshan Cart | Smart Global Shopping</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.2/css/flag-icons.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #c9184a;
            --amazon-blue: #131921;
            --nav-bg: #232f3e;
            --orange: #febd69;
            --white: #ffffff;
            --light-grey: #f3f3f3;
        }

        body { font-family: 'Poppins', sans-serif; margin: 0; background: var(--light-grey); overflow-x: hidden; }

        /* ==========================================
           DESKTOP & MOBILE RESPONSIVE NAVIGATION
        ========================================== */
        nav { background: var(--amazon-blue); padding: 10px 3%; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 2000; color: white; }
        
        .logo { font-size: 24px; font-weight: bold; color: white; text-decoration: none; }
        .logo span { color: var(--orange); }

        .search-container { flex: 1; display: flex; align-items: center; max-width: 700px; margin: 0 20px; background: white; border-radius: 4px; overflow: hidden; height: 40px; }
        .cat-btn { background: #eee; border: none; padding: 0 15px; height: 100%; cursor: pointer; font-size: 13px; border-right: 1px solid #ddd; }
        .search-bar { flex: 1; border: none; padding: 10px; outline: none; }
        .search-submit { background: var(--orange); border: none; padding: 10px 20px; cursor: pointer; color: #333; }

        .nav-right { display: flex; align-items: center; gap: 20px; }

        /* Flag & Lang Dropdown */
        .dropdown { position: relative; cursor: pointer; padding: 5px 10px; border-radius: 3px; border: 1px solid transparent; }
        .dropdown:hover { border: 1px solid white; }
        .dropdown-menu { display: none; position: absolute; top: 100%; right: 0; background: white; min-width: 180px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); border-radius: 4px; z-index: 3000; }
        .dropdown:hover .dropdown-menu { display: block; }
        .dropdown-menu a { color: #333; padding: 12px 16px; text-decoration: none; display: flex; align-items: center; gap: 10px; font-size: 13px; }
        .dropdown-menu a:hover { background: #f1f1f1; color: var(--primary); }

        /* ==========================================
           SIDEBAR & MOBILE BOTTOM BAR
        ========================================== */
        .sidebar { position: fixed; left: -100%; top: 0; width: 280px; height: 100%; background: white; z-index: 4000; transition: 0.3s; overflow-y: auto; box-shadow: 5px 0 15px rgba(0,0,0,0.2); }
        .sidebar.active { left: 0; }
        .sidebar-header { background: var(--amazon-blue); color: white; padding: 20px; font-size: 18px; display: flex; align-items: center; gap: 10px; }
        .sidebar-list a { display: block; padding: 15px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee; font-size: 14px; }
        .sidebar-overlay { position: fixed; display: none; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3500; }

        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: none; justify-content: space-around; padding: 10px 0; border-top: 1px solid #ddd; z-index: 2500; }
        .bottom-nav a { text-align: center; color: #555; text-decoration: none; font-size: 12px; }
        .bottom-nav i { font-size: 20px; display: block; }

        @media screen and (max-width: 768px) {
            .desktop-only { display: none !important; }
            .bottom-nav { display: flex; }
            .search-container { display: none; } /* Mobile has different search icon */
        }

        /* ==========================================
           OSHAN AI CHATBOX
        ========================================== */
        .ai-fab { position: fixed; bottom: 80px; right: 20px; width: 55px; height: 55px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 3000; }
        .ai-window { position: fixed; bottom: 145px; right: 20px; width: 300px; height: 400px; background: white; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); display: none; flex-direction: column; overflow: hidden; z-index: 3001; }
        .ai-head { background: var(--primary); color: white; padding: 15px; font-weight: bold; display: flex; justify-content: space-between; }
        #ai-body { flex: 1; padding: 15px; overflow-y: auto; font-size: 13px; background: #f9f9f9; }
        .ai-foot { display: flex; padding: 10px; border-top: 1px solid #eee; }
        .ai-foot input { flex: 1; border: 1px solid #ddd; padding: 8px; border-radius: 4px; outline: none; }
    </style>
</head>
<body>

    <div class="sidebar-overlay" id="overlay" onclick="toggleSidebar()"></div>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <i class="fas fa-user-circle"></i> Hello, Sign In
        </div>
        <div class="sidebar-list">
            <b style="padding:15px 20px; display:block; background:#f6f6f6;">Shop By Category</b>
            <a href="#" onclick="filterCat('Womens')"><i class="fas fa-female"></i> Womens Fashion</a>
            <a href="#" onclick="filterCat('Mens')"><i class="fas fa-male"></i> Mens Fashion</a>
            <a href="#" onclick="filterCat('Phones')"><i class="fas fa-mobile-alt"></i> Phones & Accessories</a>
            <a href="#" onclick="filterCat('Electronics')"><i class="fas fa-laptop"></i> Electronics</a>
            <a href="#" onclick="filterCat('Home & Kitchen')"><i class="fas fa-home"></i> Home & Kitchen</a>
            <a href="#" onclick="filterCat('Vehicles')"><i class="fas fa-car"></i> Vehicles (Electric & Petrol)</a>
            <a href="#" onclick="filterCat('Ceylon Items')"><i class="fas fa-leaf"></i> Ceylon Items</a>
            
            <b style="padding:15px 20px; display:block; background:#f6f6f6;">Help & Settings</b>
            <a href="profile.html">My Account</a>
            <a href="orders.html">My Orders</a>
            <a href="#" onclick="accessAdminPanel()">Admin Panel</a>
            <a href="https://wa.me/94727600501">Customer Service (WhatsApp)</a>
        </div>
    </div>

    <nav>
        <div style="display:flex; align-items:center; gap:15px;">
            <i class="fas fa-bars" style="font-size:22px; cursor:pointer;" onclick="toggleSidebar()"></i>
            <a href="index.html" class="logo">Oshan<span>Cart</span></a>
        </div>

        <div class="search-container desktop-only">
            <button class="cat-btn">All <i class="fas fa-caret-down"></i></button>
            <input type="text" id="searchInput" class="search-bar" placeholder="Search Oshan Cart...">
            <button class="search-submit" onclick="searchProducts()"><i class="fas fa-search"></i></button>
        </div>

        <div class="nav-right">
            <div class="dropdown">
                <span id="current-lang"><span class="fi fi-us"></span> EN</span>
                <div class="dropdown-menu">
                    <a href="#" onclick="setLang('en','us')"><span class="fi fi-us"></span> English</a>
                    <a href="#" onclick="setLang('si','lk')"><span class="fi fi-lk"></span> Sinhala</a>
                    <a href="#" onclick="setLang('ja','jp')"><span class="fi fi-jp"></span> Japan</a>
                    <a href="#" onclick="setLang('ta','in')"><span class="fi fi-in"></span> Tamil</a>
                </div>
            </div>

            <div class="dropdown desktop-only">
                <span>Account & Lists</span>
                <div class="dropdown-menu" style="min-width: 220px;">
                    <a href="profile.html"><b>‚úçÔ∏è My Profile</b></a>
                    <a href="orders.html">üéÅ My Orders</a>
                    <a href="referral.html">ü§ù My Referral</a>
                    <a href="affiliate.html">üë• Affiliate Program</a>
                    <hr>
                    <a href="#" onclick="accessAdminPanel()">üë§ Admin Dashboard</a>
                    <a href="become-seller.html">üë©‚Äçüåæ Become a Seller</a>
                </div>
            </div>

            <a href="cart.html" style="color:white; text-decoration:none; display:flex; align-items:center; gap:5px;">
                <i class="fas fa-shopping-cart" style="font-size:20px;"></i>
                <span class="desktop-only">Cart</span>
            </a>
        </div>
    </nav>

    <div class="bottom-nav">
        <a href="index.html"><i class="fas fa-home"></i>Home</a>
        <a href="#" onclick="toggleSidebar()"><i class="fas fa-th-large"></i>Category</a>
        <a href="cart.html"><i class="fas fa-shopping-cart"></i>Cart</a>
        <a href="profile.html"><i class="fas fa-user"></i>Account</a>
    </div>

    <div class="ai-fab" onclick="toggleAI()"><i class="fas fa-robot"></i></div>
    <div class="ai-window" id="aiWindow">
        <div class="ai-head">Oshan AI Assistant <i class="fas fa-times" onclick="toggleAI()" style="cursor:pointer;"></i></div>
        <div id="ai-body">
            <div style="background:#eee; padding:10px; border-radius:8px; margin-bottom:10px;">Hello! I am Oshan AI. How can I help you with your shopping today?</div>
        </div>
        <div class="ai-foot">
            <input type="text" id="aiInput" placeholder="Ask me anything...">
            <button onclick="askAI()" style="background:var(--primary); color:white; border:none; padding:8px 15px; border-radius:4px; margin-left:5px;"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <div style="padding: 20px 3%;" id="productDisplay">
        </div>

    <script>
        // SIDEBAR CONTROL
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
            let overlay = document.getElementById('overlay');
            overlay.style.display = overlay.style.display === 'block' ? 'none' : 'block';
        }

        // LANGUAGE SWITCHER
        function setLang(lang, flag) {
            document.getElementById('current-lang').innerHTML = `<span class="fi fi-${flag}"></span> ${lang.toUpperCase()}`;
            alert("Language changed to " + lang.toUpperCase());
        }

        // ADMIN PANEL
        function accessAdminPanel() {
            let pw = prompt("Enter Admin Password:");
            if(pw === "Lakshan@2001") {
                window.location.href = "admin-dashboard.html";
            } else { alert("Access Denied!"); }
        }

        // OSHAN AI LOGIC
        function toggleAI() {
            let win = document.getElementById('aiWindow');
            win.style.display = win.style.display === 'flex' ? 'none' : 'flex';
        }

        function askAI() {
            let input = document.getElementById('aiInput');
            let body = document.getElementById('ai-body');
            if(!input.value) return;

            body.innerHTML += `<div style="text-align:right; margin-bottom:10px;"><span style="background:var(--orange); padding:8px; border-radius:8px;">${input.value}</span></div>`;
            
            // Simple AI Response Logic
            let userMsg = input.value.toLowerCase();
            let response = "I'm not sure about that, but you can contact our human support at 0727600501!";
            
            if(userMsg.includes("hello")) response = "Hello! Welcome to Oshan Cart. What are you looking for today?";
            if(userMsg.includes("order")) response = "You can track your order in the 'My Orders' section.";
            if(userMsg.includes("price")) response = "Prices are listed on each product. We have the best deals in Sri Lanka!";

            setTimeout(() => {
                body.innerHTML += `<div style="text-align:left; margin-bottom:10px;"><span style="background:#eee; padding:8px; border-radius:8px;">${response}</span></div>`;
                body.scrollTop = body.scrollHeight;
            }, 800);
            
            input.value = "";
        }
    </script>

</body>
</html>
