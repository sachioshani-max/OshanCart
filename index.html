<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Oshan Cart | Smart Global Shopping Hub</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.2/css/flag-icons.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --ali-red: #ff4747;
            --daraz-orange: #f85606;
            --shein-black: #000000;
            --bg-color: #f4f4f7;
            --white: #ffffff;
            --primary-grad: linear-gradient(135deg, #f85606, #ff4747);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: var(--bg-color); color: #333; overflow-x: hidden; }

        /* --- DESKTOP NAVIGATION --- */
        @media (min-width: 992px) {
            .mobile-only { display: none !important; }
            
            .top-bar {
                background: #f0f1f5;
                padding: 10px 5%;
                display: flex;
                justify-content: flex-end;
                gap: 25px;
                font-size: 13px;
                color: #666;
            }
            .top-bar span:hover { color: var(--daraz-orange); cursor: pointer; }

            nav {
                background: var(--white);
                padding: 15px 5%;
                display: flex;
                align-items: center;
                gap: 40px;
                position: sticky;
                top: 0;
                z-index: 2000;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }

            .search-box {
                flex: 1;
                display: flex;
                background: #eff0f5;
                border-radius: 4px;
                overflow: hidden;
            }
            .search-box input {
                flex: 1;
                border: none;
                padding: 12px;
                background: transparent;
                outline: none;
            }
            .search-box button {
                background: var(--daraz-orange);
                border: none;
                padding: 0 20px;
                color: white;
                cursor: pointer;
            }
        }

        /* --- MOBILE NAVIGATION (APP STYLE) --- */
        @media (max-width: 991px) {
            .desktop-only { display: none !important; }

            .mobile-header {
                background: var(--primary-grad);
                padding: 15px;
                position: sticky;
                top: 0;
                z-index: 2000;
                color: white;
            }

            .mobile-search {
                background: white;
                border-radius: 25px;
                padding: 8px 15px;
                display: flex;
                align-items: center;
                margin-top: 10px;
            }
            .mobile-search input { flex: 1; border: none; outline: none; padding: 0 10px; }

            .bottom-app-bar {
                position: fixed;
                bottom: 0;
                width: 100%;
                background: white;
                display: flex;
                justify-content: space-around;
                padding: 10px 0;
                box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
                z-index: 3000;
            }
            .app-link { text-align: center; color: #777; font-size: 11px; text-decoration: none; }
            .app-link i { font-size: 20px; display: block; margin-bottom: 2px; }
            .app-link.active { color: var(--daraz-orange); }
        }

        /* --- PRODUCT GRID --- */
        .container { padding: 20px 5%; }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        @media (max-width: 600px) {
            .grid { grid-template-columns: repeat(2, 1fr); }
        }

        .product-card {
            background: white;
            border-radius: 12px;
            padding: 10px;
            transition: 0.3s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        .product-card:hover { border-color: var(--daraz-orange); transform: translateY(-5px); }
        .product-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 8px; }

        /* --- SETTINGS & PROFILE VIEW --- */
        #settings-page {
            display: none;
            background: white;
            min-height: 100vh;
            padding: 20px;
        }
        .setting-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* --- AI CHATBOT BOX --- */
        .oshan-ai-box {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 320px;
            height: 450px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            z-index: 4000;
            overflow: hidden;
        }
    </style>
</head>
<body>

    <div class="top-bar desktop-only">
        <span onclick="changeLocale('lk', 'Sinhala')"><span class="fi fi-lk"></span> SI/LKR</span>
        <span onclick="changeLocale('us', 'English')"><span class="fi fi-us"></span> EN/USD</span>
        <span onclick="accessAdmin()">Admin Dashboard</span>
        <span>Help Center</span>
    </div>

    <nav class="desktop-only">
        <h2 style="color: var(--daraz-orange);">Oshan<span>Cart</span></h2>
        <div class="search-box">
            <input type="text" placeholder="I'm shopping for...">
            <button><i class="fas fa-search"></i></button>
        </div>
        <div style="display: flex; gap: 20px;">
            <div class="app-link" onclick="toggleSettings()"><i class="fas fa-user"></i>Account</div>
            <div class="app-link"><i class="fas fa-shopping-cart"></i>Cart</div>
        </div>
    </nav>

    <div class="mobile-header mobile-only">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <i class="fas fa-bars"></i>
            <h3>OshanCart</h3>
            <i class="fas fa-comment-dots" onclick="toggleChat()"></i>
        </div>
        <div class="mobile-search">
            <i class="fas fa-search" style="color: #888;"></i>
            <input type="text" placeholder="Search Oshan Cart">
        </div>
    </div>

    <div id="main-content" class="container">
        <div class="mobile-only" style="display: flex; gap: 15px; overflow-x: auto; padding: 10px 0;">
            <div style="text-align: center; min-width: 60px;">
                <div style="width: 50px; height: 50px; background: #ffece6; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto; color: #f85606;">
                    <i class="fas fa-bolt"></i>
                </div>
                <p style="font-size: 10px;">Deals</p>
            </div>
            </div>

        <h3 style="margin: 20px 0;">Global Collections</h3>
        <div class="grid" id="productGrid">
            </div>
    </div>

    <div id="settings-page" class="container">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
            <i class="fas fa-arrow-left" onclick="toggleSettings()"></i>
            <h2>My Settings</h2>
        </div>
        <div class="setting-item">
            <span>Language Settings</span>
            <b id="current-lang">English</b>
        </div>
        <div class="setting-item">
            <span>Currency</span>
            <b>LKR</b>
        </div>
        <div class="setting-item">
            <span>Theme Mode</span>
            <i class="fas fa-moon"></i>
        </div>
        <div class="setting-item" onclick="accessAdmin()" style="color: var(--daraz-orange); font-weight: bold;">
            <span>Admin Access</span>
            <i class="fas fa-shield-alt"></i>
        </div>
    </div>

    <div class="oshan-ai-box" id="aiBox">
        <div style="background: var(--daraz-orange); color: white; padding: 15px; display: flex; justify-content: space-between;">
            <span>Oshan AI Agent</span>
            <i class="fas fa-times" onclick="toggleChat()"></i>
        </div>
        <div id="chatArea" style="flex: 1; padding: 15px; overflow-y: auto; background: #f9f9f9; font-size: 13px;">
            <p style="background: #eee; padding: 8px; border-radius: 10px; margin-bottom: 10px;">Hello Lakshan! How can I help you with OshanCart today?</p>
        </div>
        <div style="padding: 10px; border-top: 1px solid #eee; display: flex;">
            <input type="text" id="aiInput" style="flex: 1; border: none; outline: none;" placeholder="Ask me anything...">
            <i class="fas fa-paper-plane" style="color: var(--daraz-orange); cursor: pointer;" onclick="askAI()"></i>
        </div>
    </div>

    <div class="bottom-app-bar mobile-only">
        <a href="#" class="app-link active" onclick="toggleSettings(false)"><i class="fas fa-home"></i>Home</a>
        <a href="#" class="app-link"><i class="fas fa-search"></i>Find</a>
        <a href="#" class="app-link"><i class="fas fa-fire"></i>Feed</a>
        <a href="#" class="app-link"><i class="fas fa-shopping-cart"></i>Cart</a>
        <a href="#" class="app-link" onclick="toggleSettings(true)"><i class="fas fa-user"></i>Account</a>
    </div>

    <script>
        const products = [
            { id: 1, name: "Smart Watch Ultra 2026", price: "5,500", img: "https://ae04.alicdn.com/kf/S81817c180962450291913c5443e99e469.jpg" },
            { id: 2, name: "Original Ceylon Tea", price: "1,200", img: "https://www.dilmahtea.com/images/default-source/products/t-series/t-series-luxury-leaf-tea.jpg" },
            { id: 3, name: "Luxury Diamond Watch Set", price: "8,900", img: "https://ae04.alicdn.com/kf/S8f9038283307409292158866e40854d9I.jpg" },
            { id: 4, name: "Fast Charging Hub 65W", price: "3,400", img: "https://ae04.alicdn.com/kf/S7b767794b6d4469785890885e78378c3G.jpg" }
        ];

        function init() {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = products.map(p => `
                <div class="product-card" onclick="alert('Viewing: ' + '${p.name}')">
                    <img src="${p.img}">
                    <p style="font-size: 13px; margin: 8px 0; height: 38px; overflow: hidden;">${p.name}</p>
                    <b style="color: var(--daraz-orange);">Rs. ${p.price}</b>
                </div>
            `).join('');
        }

        function toggleSettings(show) {
            const main = document.getElementById('main-content');
            const settings = document.getElementById('settings-page');
            if(show) {
                main.style.display = 'none';
                settings.style.display = 'block';
            } else {
                main.style.display = 'block';
                settings.style.display = 'none';
            }
        }

        function toggleChat() {
            const box = document.getElementById('aiBox');
            box.style.display = (box.style.display === 'flex') ? 'none' : 'flex';
        }

        function askAI() {
            const input = document.getElementById('aiInput');
            const area = document.getElementById('chatArea');
            if(!input.value) return;

            area.innerHTML += `<p style="text-align: right; margin-bottom: 10px;"><b>You:</b> ${input.value}</p>`;
            
            let response = "I'm searching the Oshan Cart database for " + input.value + "...";
            if(input.value.toLowerCase().includes("shipping")) response = "We offer free global shipping on orders over Rs. 5000!";
            
            setTimeout(() => {
                area.innerHTML += `<p style="background: #eefbff; padding: 8px; border-radius: 10px; margin-bottom: 10px;"><b>AI:</b> ${response}</p>`;
                area.scrollTop = area.scrollHeight;
            }, 800);
            input.value = "";
        }

        function changeLocale(flag, lang) {
            alert("Switching Global Region to: " + lang);
            document.getElementById('current-lang').innerText = lang;
        }

        function accessAdmin() {
            let pw = prompt("SECURITY: Enter Oshan Admin Password:");
            if(pw === "Lakshan@2001") {
                window.location.href = "admin-dashboard.html";
            } else {
                alert("Incorrect Password!");
            }
        }

        init();
    </script>
</body>
</html>
